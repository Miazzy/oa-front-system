var Editor=function(){"use strict";var r=function(){return(r=Object.assign||function(n){for(var e,t=1,o=arguments.length;t<o;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}).apply(this,arguments)},e=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],h=function(n){return-1!==e.indexOf(n)},s=function(n,e,t){var o,i,r,s,a,p,l,u,d=e.$props.value?e.$props.value:"",c=e.$props.initialValue?e.$props.initialValue:"";t.setContent(d||c),e.$listeners.input&&(i=t,s=(o=e).$props.modelEvents?o.$props.modelEvents:null,a=Array.isArray(s)?s.join(" "):s,o.$watch("value",function(n,e){i&&"string"==typeof n&&n!==r&&n!==e&&(i.setContent(n),r=n)}),i.on(a||"change keyup undo redo",function(){r=i.getContent(),o.$emit("input",r)})),p=n,l=e.$listeners,u=t,Object.keys(l).filter(h).forEach(function(n){var e=l[n];"function"==typeof e&&("onInit"===n?e(p,u):u.on(n.substring(2),function(n){return e(n,u)}))})},t=0,n=function(n){var e=Date.now();return n+"_"+Math.floor(1e9*Math.random())+ ++t+String(e)},a=function(n){return void 0===n||""===n?[]:Array.isArray(n)?n:n.split(" ")},c=function(){var n="undefined"!=typeof window?window:global;return n&&n.tinymce?n.tinymce:null},o={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean},f={listeners:[],scriptId:n("tiny-script"),scriptLoaded:!1},y=function(i){return function(){var n,e,t,o=r({},i.$props.init,{readonly:i.$props.disabled,selector:"#"+i.elementId,plugins:(n=i.$props.init&&i.$props.init.plugins,e=i.$props.plugins,a(n).concat(a(e))),toolbar:i.$props.toolbar||i.$props.init&&i.$props.init.toolbar,inline:i.inlineEditor,setup:function(e){(i.editor=e).on("init",function(n){return s(n,i,e)}),i.$props.init&&"function"==typeof i.$props.init.setup&&i.$props.init.setup(e)}});null!==(t=i.element)&&"textarea"===t.tagName.toLowerCase()&&(i.element.style.visibility=""),c().init(o)}};return{props:o,created:function(){this.elementId=this.$props.id||n("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==c())y(this)();else if(this.element&&this.element.ownerDocument){var n=this.element.ownerDocument,e=this.$props.cloudChannel?this.$props.cloudChannel:"5",t=this.$props.apiKey?this.$props.apiKey:"no-api-key";o=f,i=n,r="https://cdn.tiny.cloud/1/"+t+"/tinymce/"+e+"/tinymce.min.js",s=y(this),o.scriptLoaded?s():(o.listeners.push(s),i.getElementById(o.scriptId)||(a=o.scriptId,l=r,u=function(){o.listeners.forEach(function(n){return n()}),o.scriptLoaded=!0},(d=(p=i).createElement("script")).type="application/javascript",d.id=a,d.addEventListener("load",u),d.src=l,p.head&&p.head.appendChild(d)))}var o,i,r,s,a,p,l,u,d},beforeDestroy:function(){null!==c()&&c().remove(this.editor)},render:function(n){return this.inlineEditor?(o=n,i=this.elementId,r=this.$props.tagName,o(r||"div",{attrs:{id:i}})):(e=n,t=this.elementId,e("textarea",{attrs:{id:t},style:{visibility:"hidden"}}));var e,t,o,i,r}}}();
