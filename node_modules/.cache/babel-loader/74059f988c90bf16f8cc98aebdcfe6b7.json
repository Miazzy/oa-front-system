{"remainingRequest":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/eslint-loader/index.js??ref--13-0!/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/src/utils/commonUploadFile.js","dependencies":[{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/src/utils/commonUploadFile.js","mtime":1571018558910},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.constructor\";\n\nvar getFileName = function getFileName(path) {\n  if (path.lastIndexOf(\"\\\\\") >= 0) {\n    var reg = new RegExp(\"\\\\\\\\\", \"g\");\n    path = path.replace(reg, \"/\");\n  }\n\n  return path.substring(path.lastIndexOf(\"/\") + 1);\n};\n\nvar uidGenerator = function uidGenerator() {\n  return '-' + parseInt(Math.random() * 10000 + 1, 10);\n};\n\nvar getFilePaths = function getFilePaths(uploadFiles) {\n  var arr = [];\n\n  if (!uploadFiles) {\n    return \"\";\n  }\n\n  for (var a = 0; a < uploadFiles.length; a++) {\n    arr.push(uploadFiles[a].response.message);\n  }\n\n  if (arr && arr.length > 0) {\n    return arr.join(\",\");\n  }\n\n  return \"\";\n};\n\nvar getUploadFileList = function getUploadFileList(paths) {\n  if (!paths) {\n    return [];\n  }\n\n  var fileList = [];\n  var arr = paths.split(\",\");\n\n  for (var a = 0; a < arr.length; a++) {\n    if (!arr[a]) {\n      continue;\n    } else {\n      fileList.push({\n        uid: uidGenerator(),\n        name: getFileName(arr[a]),\n        status: 'done',\n        url: window._CONFIG['domianURL'] + \"/sys/common/view/\" + arr[a],\n        response: {\n          status: \"history\",\n          message: arr[a]\n        }\n      });\n    }\n  }\n\n  return fileList;\n};\n\nexport { getFilePaths, getUploadFileList };",{"version":3,"sources":["/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/src/utils/commonUploadFile.js"],"names":["getFileName","path","lastIndexOf","reg","RegExp","replace","substring","uidGenerator","parseInt","Math","random","getFilePaths","uploadFiles","arr","a","length","push","response","message","join","getUploadFileList","paths","fileList","split","uid","name","status","url","window","_CONFIG"],"mappings":";;;;AAAA,IAAMA,WAAW,GAAC,SAAZA,WAAY,CAACC,IAAD,EAAQ;AACxB,MAAGA,IAAI,CAACC,WAAL,CAAiB,IAAjB,KAAwB,CAA3B,EAA6B;AAC3B,QAAIC,GAAG,GAAC,IAAIC,MAAJ,CAAW,MAAX,EAAkB,GAAlB,CAAR;AACAH,IAAAA,IAAI,GAAGA,IAAI,CAACI,OAAL,CAAaF,GAAb,EAAiB,GAAjB,CAAP;AACD;;AACD,SAAOF,IAAI,CAACK,SAAL,CAAeL,IAAI,CAACC,WAAL,CAAiB,GAAjB,IAAsB,CAArC,CAAP;AACD,CAND;;AAQA,IAAMK,YAAY,GAAC,SAAbA,YAAa,GAAI;AACrB,SAAO,MAAIC,QAAQ,CAACC,IAAI,CAACC,MAAL,KAAc,KAAd,GAAoB,CAArB,EAAuB,EAAvB,CAAnB;AACD,CAFD;;AAIA,IAAMC,YAAY,GAAC,SAAbA,YAAa,CAACC,WAAD,EAAe;AAChC,MAAIC,GAAG,GAAG,EAAV;;AACA,MAAG,CAACD,WAAJ,EAAgB;AACd,WAAO,EAAP;AACD;;AACD,OAAI,IAAIE,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACF,WAAW,CAACG,MAA1B,EAAiCD,CAAC,EAAlC,EAAqC;AACnCD,IAAAA,GAAG,CAACG,IAAJ,CAASJ,WAAW,CAACE,CAAD,CAAX,CAAeG,QAAf,CAAwBC,OAAjC;AACD;;AACD,MAAGL,GAAG,IAAIA,GAAG,CAACE,MAAJ,GAAW,CAArB,EAAuB;AACrB,WAAOF,GAAG,CAACM,IAAJ,CAAS,GAAT,CAAP;AACD;;AACD,SAAO,EAAP;AACD,CAZD;;AAcA,IAAMC,iBAAiB,GAAC,SAAlBA,iBAAkB,CAACC,KAAD,EAAS;AAC/B,MAAG,CAACA,KAAJ,EAAU;AACR,WAAO,EAAP;AACD;;AACD,MAAIC,QAAQ,GAAG,EAAf;AACA,MAAIT,GAAG,GAAGQ,KAAK,CAACE,KAAN,CAAY,GAAZ,CAAV;;AACA,OAAI,IAAIT,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACD,GAAG,CAACE,MAAlB,EAAyBD,CAAC,EAA1B,EAA6B;AAC3B,QAAG,CAACD,GAAG,CAACC,CAAD,CAAP,EAAW;AACT;AACD,KAFD,MAEK;AACHQ,MAAAA,QAAQ,CAACN,IAAT,CAAc;AACZQ,QAAAA,GAAG,EAACjB,YAAY,EADJ;AAEZkB,QAAAA,IAAI,EAACzB,WAAW,CAACa,GAAG,CAACC,CAAD,CAAJ,CAFJ;AAGZY,QAAAA,MAAM,EAAE,MAHI;AAIZC,QAAAA,GAAG,EAAEC,MAAM,CAACC,OAAP,CAAe,WAAf,IAA4B,mBAA5B,GAAgDhB,GAAG,CAACC,CAAD,CAJ5C;AAKZG,QAAAA,QAAQ,EAAC;AACPS,UAAAA,MAAM,EAAC,SADA;AAEPR,UAAAA,OAAO,EAACL,GAAG,CAACC,CAAD;AAFJ;AALG,OAAd;AAUD;AACF;;AACD,SAAOQ,QAAP;AACD,CAvBD;;AAwBA,SAAQX,YAAR,EAAqBS,iBAArB","sourcesContent":["const getFileName=(path)=>{\n  if(path.lastIndexOf(\"\\\\\")>=0){\n    let reg=new RegExp(\"\\\\\\\\\",\"g\");\n    path = path.replace(reg,\"/\");\n  }\n  return path.substring(path.lastIndexOf(\"/\")+1);\n}\n\nconst uidGenerator=()=>{\n  return '-'+parseInt(Math.random()*10000+1,10);\n}\n\nconst getFilePaths=(uploadFiles)=>{\n  let arr = [];\n  if(!uploadFiles){\n    return \"\"\n  }\n  for(var a=0;a<uploadFiles.length;a++){\n    arr.push(uploadFiles[a].response.message)\n  }\n  if(arr && arr.length>0){\n    return arr.join(\",\")\n  }\n  return \"\"\n}\n\nconst getUploadFileList=(paths)=>{\n  if(!paths){\n    return [];\n  }\n  let fileList = [];\n  let arr = paths.split(\",\")\n  for(var a=0;a<arr.length;a++){\n    if(!arr[a]){\n      continue\n    }else{\n      fileList.push({\n        uid:uidGenerator(),\n        name:getFileName(arr[a]),\n        status: 'done',\n        url: window._CONFIG['domianURL']+\"/sys/common/view/\"+arr[a],\n        response:{\n          status:\"history\",\n          message:arr[a]\n        }\n      })\n    }\n  }\n  return fileList;\n}\nexport {getFilePaths,getUploadFileList}"]}]}