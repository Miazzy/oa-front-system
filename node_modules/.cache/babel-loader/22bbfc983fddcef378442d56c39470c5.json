{"remainingRequest":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/thread-loader/dist/cjs.js!/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/babel-loader/lib/index.js!/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/src/views/jeecg/modules/JEditableTable/ThreeLinkage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/src/views/jeecg/modules/JEditableTable/ThreeLinkage.vue","mtime":1571018558922},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/cache-loader/dist/cjs.js","mtime":1565525385854},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/thread-loader/dist/cjs.js","mtime":1565525386522},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/babel-loader/lib/index.js","mtime":1565533683804},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/cache-loader/dist/cjs.js","mtime":1565525385854},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/vue-loader/lib/index.js","mtime":1571018827562}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { FormTypes } from '@/utils/JEditableTableUtil';\nimport JEditableTable from '@/components/jeecg/JEditableTable';\nexport default {\n  name: 'ThreeLinkage',\n  components: {\n    JEditableTable: JEditableTable\n  },\n  data: function data() {\n    return {\n      columns: [{\n        title: '省/直辖市/自治区',\n        key: 's1',\n        type: FormTypes.select,\n        width: '240px',\n        options: [],\n        placeholder: '请选择${title}'\n      }, {\n        title: '市',\n        key: 's2',\n        type: FormTypes.select,\n        width: '240px',\n        options: [],\n        placeholder: '请选择${title}'\n      }, {\n        title: '县/区',\n        key: 's3',\n        type: FormTypes.select,\n        width: '240px',\n        options: [],\n        placeholder: '请选择${title}'\n      }],\n      dataSource: [],\n      mockData: [{\n        label: '北京市',\n        value: '110000',\n        parent: null\n      }, {\n        label: '天津市',\n        value: '120000',\n        parent: null\n      }, {\n        label: '河北省',\n        value: '130000',\n        parent: null\n      }, {\n        label: '上海市',\n        value: '310000',\n        parent: null\n      }, {\n        label: '北京市',\n        value: '110100',\n        parent: '110000'\n      }, {\n        label: '天津市市',\n        value: '120100',\n        parent: '120000'\n      }, {\n        label: '石家庄市',\n        value: '130100',\n        parent: '130000'\n      }, {\n        label: '唐山市',\n        value: '130200',\n        parent: '130000'\n      }, {\n        label: '秦皇岛市',\n        value: '130300',\n        parent: '130000'\n      }, {\n        label: '上海市',\n        value: '310100',\n        parent: '310000'\n      }, {\n        label: '东城区',\n        value: '110101',\n        parent: '110100'\n      }, {\n        label: '西城区',\n        value: '110102',\n        parent: '110100'\n      }, {\n        label: '朝阳区',\n        value: '110105',\n        parent: '110100'\n      }, {\n        label: '和平区',\n        value: '120101',\n        parent: '120000'\n      }, {\n        label: '河东区',\n        value: '120102',\n        parent: '120000'\n      }, {\n        label: '河西区',\n        value: '120103',\n        parent: '120000'\n      }, {\n        label: '黄浦区',\n        value: '310101',\n        parent: '310100'\n      }, {\n        label: '徐汇区',\n        value: '310104',\n        parent: '310100'\n      }, {\n        label: '长宁区',\n        value: '310105',\n        parent: '310100'\n      }, {\n        label: '长安区',\n        value: '130102',\n        parent: '130100'\n      }, {\n        label: '桥西区',\n        value: '130104',\n        parent: '130100'\n      }, {\n        label: '新华区',\n        value: '130105',\n        parent: '130100'\n      }, {\n        label: '路南区',\n        value: '130202',\n        parent: '130200'\n      }, {\n        label: '路北区',\n        value: '130203',\n        parent: '130200'\n      }, {\n        label: '古冶区',\n        value: '130204',\n        parent: '130200'\n      }, {\n        label: '海港区',\n        value: '130302',\n        parent: '130300'\n      }, {\n        label: '山海关区',\n        value: '130303',\n        parent: '130300'\n      }, {\n        label: '北戴河区',\n        value: '130304',\n        parent: '130300'\n      }]\n    };\n  },\n  mounted: function mounted() {\n    // 初始化数据\n    this.columns[0].options = this.request(null);\n  },\n  methods: {\n    request: function request(parentId) {\n      return this.mockData.filter(function (i) {\n        return i.parent === parentId;\n      });\n    },\n\n    /** 当选项被改变时，联动其他组件 */\n    handleValueChange: function handleValueChange(event) {\n      var type = event.type,\n          row = event.row,\n          column = event.column,\n          value = event.value,\n          target = event.target;\n\n      if (type === FormTypes.select) {\n        // 第一列\n        if (column.key === 's1') {\n          // 设置第二列的 options\n          this.columns[1].options = this.request(value); // 清空后两列的数据\n\n          target.setValues([{\n            rowKey: row.id,\n            values: {\n              s2: '',\n              s3: ''\n            }\n          }]);\n          this.columns[2].options = [];\n        } else // 第二列\n          if (column.key === 's2') {\n            this.columns[2].options = this.request(value);\n            target.setValues([{\n              rowKey: row.id,\n              values: {\n                s3: ''\n              }\n            }]);\n          }\n      }\n    }\n  }\n};",null]}