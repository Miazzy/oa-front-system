{"remainingRequest":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/thread-loader/dist/cjs.js!/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/src/views/system/QuartzJobList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/src/views/system/QuartzJobList.vue","mtime":1571018558933},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport QuartzJobModal from \"./modules/QuartzJobModal\";\nimport { getAction } from '@/api/manage';\nimport { JeecgListMixin } from '@/mixins/JeecgListMixin';\nimport JEllipsis from \"@/components/jeecg/JEllipsis\";\nexport default {\n  name: \"QuartzJobList\",\n  mixins: [JeecgListMixin],\n  components: {\n    QuartzJobModal: QuartzJobModal,\n    JEllipsis: JEllipsis\n  },\n  data: function data() {\n    return {\n      description: '定时任务在线管理',\n      // 查询条件\n      queryParam: {},\n      // 表头\n      columns: [{\n        title: '#',\n        dataIndex: '',\n        key: 'rowIndex',\n        width: 60,\n        align: \"center\",\n        customRender: function customRender(t, r, index) {\n          return parseInt(index) + 1;\n        }\n      }, {\n        title: '任务类名',\n        align: \"center\",\n        dataIndex: 'jobClassName',\n        sorter: true\n        /*            customRender:function (text) {\n                      return \"*\"+text.substring(9,text.length);\n                    }*/\n\n      }, {\n        title: 'cron表达式',\n        align: \"center\",\n        dataIndex: 'cronExpression'\n      }, {\n        title: '参数',\n        align: \"center\",\n        dataIndex: 'parameter'\n      }, {\n        title: '描述',\n        align: \"center\",\n        width: 300,\n        dataIndex: 'description',\n        scopedSlots: {\n          customRender: 'description'\n        }\n      }, {\n        title: '状态',\n        align: \"center\",\n        dataIndex: 'status',\n        scopedSlots: {\n          customRender: 'customRenderStatus'\n        },\n        filterMultiple: false,\n        filters: [{\n          text: '已启动',\n          value: '0'\n        }, {\n          text: '已暂停',\n          value: '-1'\n        }]\n      }, {\n        title: '操作',\n        dataIndex: 'action',\n        align: \"center\",\n        width: 180,\n        scopedSlots: {\n          customRender: 'action'\n        }\n      }],\n      url: {\n        list: \"/sys/quartzJob/list\",\n        delete: \"/sys/quartzJob/delete\",\n        deleteBatch: \"/sys/quartzJob/deleteBatch\",\n        pause: \"/sys/quartzJob/pause\",\n        resume: \"/sys/quartzJob/resume\",\n        exportXlsUrl: \"sys/quartzJob/exportXls\",\n        importExcelUrl: \"sys/quartzJob/importExcel\"\n      }\n    };\n  },\n  computed: {\n    importExcelUrl: function importExcelUrl() {\n      return \"\".concat(window._CONFIG['domianURL'], \"/\").concat(this.url.importExcelUrl);\n    }\n  },\n  methods: {\n    //筛选需要重写handleTableChange\n    handleTableChange: function handleTableChange(pagination, filters, sorter) {\n      //分页、排序、筛选变化时触发\n      //TODO 筛选\n      if (Object.keys(sorter).length > 0) {\n        this.isorter.column = sorter.field;\n        this.isorter.order = \"ascend\" == sorter.order ? \"asc\" : \"desc\";\n      } //这种筛选方式只支持单选\n\n\n      this.filters.status = filters.status[0];\n      this.ipagination = pagination;\n      this.loadData();\n    },\n    pauseJob: function pauseJob(record) {\n      var that = this; //暂停定时任务\n\n      this.$confirm({\n        title: \"确认暂停\",\n        content: \"是否暂停选中任务?\",\n        onOk: function onOk() {\n          getAction(that.url.pause, {\n            jobClassName: record.jobClassName\n          }).then(function (res) {\n            if (res.success) {\n              that.$message.success(res.message);\n              that.loadData();\n              that.onClearSelected();\n            } else {\n              that.$message.warning(res.message);\n            }\n          });\n        }\n      });\n    },\n    resumeJob: function resumeJob(record) {\n      var that = this; //恢复定时任务\n\n      this.$confirm({\n        title: \"确认启动\",\n        content: \"是否启动选中任务?\",\n        onOk: function onOk() {\n          getAction(that.url.resume, {\n            jobClassName: record.jobClassName\n          }).then(function (res) {\n            if (res.success) {\n              that.$message.success(res.message);\n              that.loadData();\n              that.onClearSelected();\n            } else {\n              that.$message.warning(res.message);\n            }\n          });\n        }\n      });\n    }\n  }\n};",null]}