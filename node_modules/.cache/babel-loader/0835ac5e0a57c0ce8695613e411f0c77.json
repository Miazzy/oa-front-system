{"remainingRequest":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/babel-loader/lib/index.js!/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/src/components/dict/JDictSelectUtil.js","dependencies":[{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/src/components/dict/JDictSelectUtil.js","mtime":1571018558894},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/cache-loader/dist/cjs.js","mtime":1565525385854},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/babel-loader/lib/index.js","mtime":1565533683804},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1565525383413}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _asyncToGenerator from \"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n\n/**\n * 字典 util\n * author: scott\n * date: 20190109\n */\nimport { ajaxGetDictItems } from '@/api/api';\nimport { getAction } from '@/api/manage';\n/**\n * 获取字典数组\n * @param dictCode 字典Code\n * @return List<Map>\n */\n\nexport function initDictOptions(_x) {\n  return _initDictOptions.apply(this, arguments);\n}\n/**\n * 字典值替换文本通用方法\n * @param dictOptions  字典数组\n * @param text  字典值\n * @return String\n */\n\nfunction _initDictOptions() {\n  _initDictOptions = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee(dictCode) {\n    var res;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (dictCode) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\", '字典Code不能为空!');\n\n          case 2:\n            _context.next = 4;\n            return ajaxGetDictItems(dictCode);\n\n          case 4:\n            res = _context.sent;\n            return _context.abrupt(\"return\", res);\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _initDictOptions.apply(this, arguments);\n}\n\nexport function filterDictText(dictOptions, text) {\n  var re = \"\";\n  dictOptions.forEach(function (option) {\n    if (text === option.value) {\n      re = option.text;\n    }\n  });\n  return re;\n}\n/**\n * 字典值替换文本通用方法(多选)\n * @param dictOptions  字典数组\n * @param text  字典值\n * @return String\n */\n\nexport function filterMultiDictText(dictOptions, text) {\n  if (!text) {\n    return \"\";\n  }\n\n  var re = \"\";\n  var arr = text.split(\",\");\n  dictOptions.forEach(function (option) {\n    for (var i = 0; i < arr.length; i++) {\n      if (arr[i] === option.value) {\n        re += option.text + \",\";\n        break;\n      }\n    }\n  });\n\n  if (re == \"\") {\n    return \"\";\n  }\n\n  return re.substring(0, re.length - 1);\n}\n/**\n * 翻译字段值对应的文本\n * @param children\n * @returns string\n */\n\nexport function ajaxFilterDictText(_x2, _x3) {\n  return _ajaxFilterDictText.apply(this, arguments);\n}\n\nfunction _ajaxFilterDictText() {\n  _ajaxFilterDictText = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee2(dictCode, key) {\n    var res;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (dictCode) {\n              _context2.next = 2;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", '字典Code不能为空!');\n\n          case 2:\n            if (key) {\n              _context2.next = 4;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", '');\n\n          case 4:\n            _context2.next = 6;\n            return getAction(\"/sys/dict/getDictText/\".concat(dictCode, \"/\").concat(key));\n\n          case 6:\n            res = _context2.sent;\n\n            if (!res.success) {\n              _context2.next = 11;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", res.result);\n\n          case 11:\n            return _context2.abrupt(\"return\", '');\n\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _ajaxFilterDictText.apply(this, arguments);\n}",{"version":3,"sources":["/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/src/components/dict/JDictSelectUtil.js"],"names":["ajaxGetDictItems","getAction","initDictOptions","dictCode","res","filterDictText","dictOptions","text","re","forEach","option","value","filterMultiDictText","arr","split","i","length","substring","ajaxFilterDictText","key","success","result"],"mappings":";;;;;AAAA;;;;;AAMA,SAAQA,gBAAR,QAA+B,WAA/B;AACA,SAAQC,SAAR,QAAwB,cAAxB;AAEA;;;;;;AAKA,gBAAsBC,eAAtB;AAAA;AAAA;AASA;;;;;;;;;;0BATO,iBAA+BC,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACAA,QADA;AAAA;AAAA;AAAA;;AAAA,6CAEI,aAFJ;;AAAA;AAAA;AAAA,mBAKWH,gBAAgB,CAACG,QAAD,CAL3B;;AAAA;AAKDC,YAAAA,GALC;AAAA,6CAMEA,GANF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAeP,OAAO,SAASC,cAAT,CAAwBC,WAAxB,EAAqCC,IAArC,EAA2C;AAChD,MAAIC,EAAE,GAAG,EAAT;AACAF,EAAAA,WAAW,CAACG,OAAZ,CAAoB,UAAUC,MAAV,EAAkB;AACpC,QAAIH,IAAI,KAAKG,MAAM,CAACC,KAApB,EAA2B;AACzBH,MAAAA,EAAE,GAAGE,MAAM,CAACH,IAAZ;AACD;AACF,GAJD;AAKA,SAAOC,EAAP;AACD;AAED;;;;;;;AAMA,OAAO,SAASI,mBAAT,CAA6BN,WAA7B,EAA0CC,IAA1C,EAAgD;AACrD,MAAG,CAACA,IAAJ,EAAS;AACP,WAAO,EAAP;AACD;;AACD,MAAIC,EAAE,GAAG,EAAT;AACA,MAAIK,GAAG,GAAGN,IAAI,CAACO,KAAL,CAAW,GAAX,CAAV;AACAR,EAAAA,WAAW,CAACG,OAAZ,CAAoB,UAAUC,MAAV,EAAkB;AACpC,SAAI,IAAIK,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACF,GAAG,CAACG,MAAlB,EAAyBD,CAAC,EAA1B,EAA6B;AAC3B,UAAIF,GAAG,CAACE,CAAD,CAAH,KAAWL,MAAM,CAACC,KAAtB,EAA6B;AAC3BH,QAAAA,EAAE,IAAIE,MAAM,CAACH,IAAP,GAAY,GAAlB;AACA;AACD;AACF;AACF,GAPD;;AAQA,MAAGC,EAAE,IAAE,EAAP,EAAU;AACR,WAAO,EAAP;AACD;;AACD,SAAOA,EAAE,CAACS,SAAH,CAAa,CAAb,EAAeT,EAAE,CAACQ,MAAH,GAAU,CAAzB,CAAP;AACD;AAED;;;;;;AAKA,gBAAsBE,kBAAtB;AAAA;AAAA;;;;;0BAAO,kBAAkCf,QAAlC,EAA4CgB,GAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACAhB,QADA;AAAA;AAAA;AAAA;;AAAA,8CAEI,aAFJ;;AAAA;AAAA,gBAKAgB,GALA;AAAA;AAAA;AAAA;;AAAA,8CAMI,EANJ;;AAAA;AAAA;AAAA,mBASWlB,SAAS,iCAA0BE,QAA1B,cAAsCgB,GAAtC,EATpB;;AAAA;AASDf,YAAAA,GATC;;AAAA,iBAUDA,GAAG,CAACgB,OAVH;AAAA;AAAA;AAAA;;AAAA,8CAYIhB,GAAG,CAACiB,MAZR;;AAAA;AAAA,8CAcI,EAdJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["/**\n * 字典 util\n * author: scott\n * date: 20190109\n */\n\nimport {ajaxGetDictItems} from '@/api/api'\nimport {getAction} from '@/api/manage'\n\n/**\n * 获取字典数组\n * @param dictCode 字典Code\n * @return List<Map>\n */\nexport async function initDictOptions(dictCode) {\n  if (!dictCode) {\n    return '字典Code不能为空!';\n  }\n  //获取字典数组\n  let res = await ajaxGetDictItems(dictCode);\n  return res;\n}\n\n/**\n * 字典值替换文本通用方法\n * @param dictOptions  字典数组\n * @param text  字典值\n * @return String\n */\nexport function filterDictText(dictOptions, text) {\n  let re = \"\";\n  dictOptions.forEach(function (option) {\n    if (text === option.value) {\n      re = option.text;\n    }\n  });\n  return re;\n}\n\n/**\n * 字典值替换文本通用方法(多选)\n * @param dictOptions  字典数组\n * @param text  字典值\n * @return String\n */\nexport function filterMultiDictText(dictOptions, text) {\n  if(!text){\n    return \"\"\n  }\n  let re = \"\";\n  let arr = text.split(\",\")\n  dictOptions.forEach(function (option) {\n    for(let i=0;i<arr.length;i++){\n      if (arr[i] === option.value) {\n        re += option.text+\",\";\n        break;\n      }\n    }\n  });\n  if(re==\"\"){\n    return \"\";\n  }\n  return re.substring(0,re.length-1);\n}\n\n/**\n * 翻译字段值对应的文本\n * @param children\n * @returns string\n */\nexport async function ajaxFilterDictText(dictCode, key) {\n  if (!dictCode) {\n    return '字典Code不能为空!';\n  }\n  //console.log(`key : ${key}`);\n  if (!key) {\n    return '';\n  }\n  //通过请求读取字典文本\n  let res = await getAction(`/sys/dict/getDictText/${dictCode}/${key}`);\n  if (res.success) {\n    // console.log('restult: '+ res.result);\n    return res.result;\n  } else {\n    return '';\n  }\n}"]}]}