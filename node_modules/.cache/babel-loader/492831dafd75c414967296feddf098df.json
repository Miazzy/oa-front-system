{"remainingRequest":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/thread-loader/dist/cjs.js!/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/src/views/system/modules/DataLogModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/src/views/system/modules/DataLogModal.vue","mtime":1571018558934},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getAction } from '@/api/manage';\nimport DataLogCompareModal from \"./DataLogCompareModal\";\nexport default {\n  name: 'DataLogModal',\n  components: {\n    DataLogCompareModal: DataLogCompareModal\n  },\n  dataId1: '',\n  dataId2: '',\n  dataTable1: '',\n  dataID3: '',\n  data: function data() {\n    return {\n      modalWidth: 700,\n      modaltoggleFlag: true,\n      confirmDirty: false,\n      title: \"操作\",\n      visible: false,\n      model: {},\n      confirmLoading: false,\n      headers: {},\n      form: this.$form.createForm(this),\n      url: {\n        queryDataVerListUrl: \"/sys/dataLog/queryDataVerList\"\n      },\n      DataVersionList: []\n    };\n  },\n  created: function created() {},\n  methods: {\n    addModal: function addModal(records) {\n      var _this = this;\n\n      var dataTable = records[0].dataTable;\n      var dataId = records[0].dataId;\n      var dataVersion1 = records[0].dataVersion;\n      var dataVersion2 = records[1].dataVersion;\n      this.dataId1 = records[0].id;\n      this.dataId2 = records[1].id;\n      this.dataTable1 = records[0].dataTable;\n      this.dataID3 = records[0].dataId;\n      this.initDataVersionList();\n      this.form.resetFields();\n      this.visible = true;\n      this.$nextTick(function () {\n        _this.form.setFieldsValue({\n          dataTale: dataTable,\n          dataId: dataId,\n          dataVersion1: dataVersion1,\n          dataVersion2: dataVersion2\n        });\n      });\n    },\n    handleOk: function handleOk() {\n      this.close();\n      this.$refs.modal.compareModal(this.dataId1, this.dataId2);\n      this.$refs.modal.title = \"数据比较\";\n    },\n    handleCancel: function handleCancel() {\n      this.close();\n    },\n    handleSubmit: function handleSubmit() {},\n    close: function close() {\n      this.$emit('close');\n      this.visible = false;\n      this.disableSubmit = false;\n    },\n    modalFormOk: function modalFormOk() {},\n    initDataVersionList: function initDataVersionList() {\n      var _this2 = this;\n\n      var that = this;\n      getAction(that.url.queryDataVerListUrl, {\n        dataTable: this.dataTable1,\n        dataId: this.dataID3\n      }).then(function (res) {\n        if (res.success) {\n          _this2.DataVersionList = res.result;\n        } else {\n          _this2.DataVersionList = [];\n          _this2.dataId1 = '', _this2.dataId2 = '', console.log(res.message);\n        }\n      });\n    },\n    handleChange1: function handleChange1(value) {\n      this.dataId1 = value;\n    },\n    handleChange2: function handleChange2(value) {\n      this.dataId2 = value;\n    },\n    handleTableBlur: function handleTableBlur(e) {\n      this.dataTable1 = e.target.value;\n      this.initDataVersionList();\n    },\n    handleIdBlur: function handleIdBlur(e) {\n      this.dataID3 = e.target.value;\n      this.initDataVersionList();\n    }\n  }\n};",null]}