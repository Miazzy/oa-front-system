{"remainingRequest":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/thread-loader/dist/cjs.js!/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/src/views/jeecg/tablist/JeecgOrderDMainList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/src/views/jeecg/tablist/JeecgOrderDMainList.vue","mtime":1571018558924},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport JeecgOrderDMainModal from \"./form/JeecgOrderDMainModal\";\nimport JeecgOrderCustomerList from \"./JeecgOrderCustomerList\";\nimport JeecgOrderTicketList from \"./JeecgOrderTicketList\";\nimport { deleteAction } from '@/api/manage';\nimport JeecgOrderCustomerModal from \"./form/JeecgOrderCustomerModal\";\nimport JeecgOrderTicketModal from \"./form/JeecgOrderTicketModal\";\nimport { JeecgListMixin } from '@/mixins/JeecgListMixin';\nexport default {\n  name: \"JeecgOrderDMainList\",\n  mixins: [JeecgListMixin],\n  components: {\n    JeecgOrderTicketModal: JeecgOrderTicketModal,\n    JeecgOrderCustomerModal: JeecgOrderCustomerModal,\n    JeecgOrderDMainModal: JeecgOrderDMainModal,\n    JeecgOrderCustomerList: JeecgOrderCustomerList,\n    JeecgOrderTicketList: JeecgOrderTicketList\n  },\n  data: function data() {\n    return {\n      description: '订单管理页面',\n\n      /* 分页参数 */\n      ipagination: {\n        current: 1,\n        pageSize: 5,\n        pageSizeOptions: ['5', '10', '20'],\n        showTotal: function showTotal(total, range) {\n          return range[0] + \"-\" + range[1] + \" 共\" + total + \"条\";\n        },\n        showQuickJumper: true,\n        showSizeChanger: true,\n        total: 0\n      },\n      // 表头\n      columns: [{\n        title: '#',\n        dataIndex: '',\n        key: 'rowIndex',\n        width: 60,\n        align: \"center\",\n        customRender: function customRender(t, r, index) {\n          return parseInt(index) + 1;\n        }\n      }, {\n        title: '订单号',\n        align: \"center\",\n        dataIndex: 'orderCode'\n      }, {\n        title: '订单类型',\n        align: \"center\",\n        dataIndex: 'ctype',\n        customRender: function customRender(text) {\n          var re = \"\";\n\n          if (text === '1') {\n            re = \"国内订单\";\n          } else if (text === '2') {\n            re = \"国际订单\";\n          }\n\n          return re;\n        }\n      }, {\n        title: '订单日期',\n        align: \"center\",\n        dataIndex: 'orderDate'\n      }, {\n        title: '订单金额',\n        align: \"center\",\n        dataIndex: 'orderMoney'\n      }, {\n        title: '订单备注',\n        align: \"center\",\n        dataIndex: 'content'\n      }, {\n        title: '操作',\n        dataIndex: 'action',\n        align: \"center\",\n        scopedSlots: {\n          customRender: 'action'\n        }\n      }],\n      // 分页参数\n      type: \"radio\",\n      url: {\n        list: \"/test/order/orderList\",\n        delete: \"/test/order/delete\",\n        deleteBatch: \"/test/order/deleteBatch\"\n      }\n    };\n  },\n  methods: {\n    clickThenCheck: function clickThenCheck(record) {\n      var _this = this;\n\n      return {\n        on: {\n          click: function click() {\n            _this.onSelectChange(record.id.split(\",\"), [record]);\n          }\n        }\n      };\n    },\n    onSelectChange: function onSelectChange(selectedRowKeys, selectionRows) {\n      this.selectedRowKeys = selectedRowKeys;\n      this.selectionRows = selectionRows;\n      this.$refs.JeecgOrderCustomerList.getOrderMain(this.selectedRowKeys[0]);\n      this.$refs.JeecgOrderTicketList.getOrderMain(this.selectedRowKeys[0]);\n    },\n    onClearSelected: function onClearSelected() {\n      this.selectedRowKeys = [];\n      this.selectionRows = [];\n      this.$refs.JeecgOrderCustomerList.queryParam.mainId = null;\n      this.$refs.JeecgOrderTicketList.queryParam.mainId = null;\n      this.$refs.JeecgOrderCustomerList.loadData();\n      this.$refs.JeecgOrderTicketList.loadData();\n      this.$refs.JeecgOrderCustomerList.selectedRowKeys = [];\n      this.$refs.JeecgOrderCustomerList.selectionRows = [];\n      this.$refs.JeecgOrderTicketList.selectedRowKeys = [];\n      this.$refs.JeecgOrderTicketList.selectionRows = [];\n    },\n    handleDelete: function handleDelete(id) {\n      var _this2 = this;\n\n      var that = this;\n      deleteAction(that.url.delete, {\n        id: id\n      }).then(function (res) {\n        if (res.success) {\n          that.$message.success(res.message);\n          that.loadData();\n\n          _this2.$refs.JeecgOrderCustomerList.loadData();\n\n          _this2.$refs.JeecgOrderTicketList.loadData();\n        } else {\n          that.$message.warning(res.message);\n        }\n      });\n    },\n    searchQuery: function searchQuery() {\n      this.selectedRowKeys = [];\n      this.selectionRows = [];\n      this.$refs.JeecgOrderCustomerList.queryParam.mainId = null;\n      this.$refs.JeecgOrderTicketList.queryParam.mainId = null;\n      this.$refs.JeecgOrderCustomerList.loadData();\n      this.$refs.JeecgOrderTicketList.loadData();\n      this.$refs.JeecgOrderCustomerList.selectedRowKeys = [];\n      this.$refs.JeecgOrderCustomerList.selectionRows = [];\n      this.$refs.JeecgOrderTicketList.selectedRowKeys = [];\n      this.$refs.JeecgOrderTicketList.selectionRows = [];\n      this.loadData();\n    }\n  }\n};",null]}