{"remainingRequest":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/src/views/jeecg/TableExpandeSub.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/src/views/jeecg/TableExpandeSub.vue","mtime":1571018558920},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { getAction } from '@/api/manage'\nimport JeecgOrderDMainModal from '@/views/jeecg/tablist/form/JeecgOrderDMainModal'\nimport {JeecgListMixin} from '@/mixins/JeecgListMixin'\n\nexport default {\n  name: \"TableDemo\",\n  mixins: [JeecgListMixin],\n  components: {\n    JeecgOrderDMainModal\n  },\n  data() {\n    return {\n      // 子表表头\n      innerColumns: [\n        {\n          title: '客户名',\n          align: \"center\",\n          width: 100,\n          dataIndex: 'name',\n          key: 'name',\n        },\n        {\n          title: '性别',\n          align: \"center\",\n          dataIndex: 'sex',\n          customRender: function (text) {\n            if (text == 1) {\n              return \"男\";\n            } else if (text == 2) {\n              return \"女\";\n            } else {\n              return text;\n            }\n          }\n        },\n        {\n          title: '身份证号码',\n          align: \"center\",\n          dataIndex: 'idcard',\n        },\n        {\n          title: '电话',\n          dataIndex: 'telphone',\n          align: \"center\",\n        },\n\n      ],\n      innerData: [],\n      expandedRowKeys: [],\n      id: ' ',\n      description: '列表展开子表Demo',\n      // 列表表头\n      columns: [{\n        title: '#',\n        dataIndex: '',\n        key: 'rowIndex',\n        width: 60,\n        align: \"center\",\n        customRender: function (t, r, index) {\n          return parseInt(index) + 1;\n        }\n      },\n        {\n          title: '订单号',\n          align: \"center\",\n          dataIndex: 'orderCode'\n        },\n        {\n          title: '订单类型',\n          align: \"center\",\n          dataIndex: 'ctype',\n          customRender: (text) => {\n            let re = \"\";\n            if (text === '1') {\n              re = \"国内订单\";\n            } else if (text === '2') {\n              re = \"国际订单\";\n            }\n            return re;\n          }\n        },\n        {\n          title: '订单日期',\n          align: \"center\",\n          dataIndex: 'orderDate'\n        },\n        {\n          title: '订单金额',\n          align: \"center\",\n          dataIndex: 'orderMoney'\n        },\n        {\n          title: '订单备注',\n          align: \"center\",\n          dataIndex: 'content'\n        },\n        {\n          title: '操作',\n          dataIndex: 'action',\n          align: \"center\",\n          scopedSlots: {customRender: 'action'},\n        }],\n      // 分页参数\n      type: \"radio\",\n      url: {\n        list: \"/test/order/orderList\",\n        delete: \"/test/order/delete\",\n        deleteBatch: \"/test/order/deleteBatch\",\n        customerListByMainId: \"/test/order/listOrderCustomerByMainId\",\n      },\n    }\n  },\n  computed: {\n    currentId(){\n      return this.id;\n    }\n  },\n  methods: {\n    handleExpand(expanded, record){\n      this.expandedRowKeys=[];\n      this.innerData=[];\n      if(expanded===true){\n        this.loading = true;\n        this.expandedRowKeys.push(record.id);\n        getAction(this.url.customerListByMainId, {mainId: record.id}).then((res) => {\n          if (res.success) {\n            this.loading = false;\n            this.innerData = res.result;\n          }\n        });\n      }\n    },\n  }\n}\n",null]}