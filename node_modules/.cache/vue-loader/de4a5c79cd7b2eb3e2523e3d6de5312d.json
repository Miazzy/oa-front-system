{"remainingRequest":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/src/views/jeecg/JeecgDemoList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/src/views/jeecg/JeecgDemoList.vue","mtime":1571018558919},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/cache-loader/dist/cjs.js","mtime":1565525385854},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/thread-loader/dist/cjs.js","mtime":1565525386522},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/babel-loader/lib/index.js","mtime":1565533683804},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/cache-loader/dist/cjs.js","mtime":1565525385854},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/vue-loader/lib/index.js","mtime":1571018827562}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport JeecgDemoModal from './modules/JeecgDemoModal'\nimport JSuperQuery from '@/components/jeecg/JSuperQuery.vue';\nimport JeecgDemoTabsModal from './modules/JeecgDemoTabsModal'\nimport {initDictOptions, filterDictText} from '@/components/dict/JDictSelectUtil'\nimport { JeecgListMixin } from '@/mixins/JeecgListMixin'\nimport Vue from 'vue'\n\n//高级查询modal需要参数\nconst superQueryFieldList=[{\n  type:\"date\",\n  value:\"birthday\",\n  text:\"生日\"\n},{\n  type:\"string\",\n  value:\"name\",\n  text:\"用户名\"\n},{\n  type:\"int\",\n  value:\"age\",\n  text:\"年龄\"\n}]\nexport default {\n  name: \"JeecgDemoList\",\n  mixins:[JeecgListMixin],\n  components: {\n    JeecgDemoModal,\n    JSuperQuery,\n    JeecgDemoTabsModal,\n  },\n  data() {\n    return {\n      description: '用户管理页面',\n      //字典数组缓存\n      sexDictOptions: [],\n      importExcelUrl:`${window._CONFIG['domianURL']}/test/jeecgDemo/importExcel`,\n      //表头\n      columns:[],\n      //列设置\n      settingColumns:[],\n      //列定义\n      defColumns: [\n        {\n          title: '#',\n          dataIndex: '',\n          key: 'rowIndex',\n          width: 60,\n          align: \"center\",\n          customRender: function (t, r, index) {\n            return parseInt(index) + 1;\n          }\n        },\n        {\n          title: '姓名',\n          align: \"center\",\n          dataIndex: 'name'\n        },\n        {\n          title: '关键词',\n          align: \"center\",\n          dataIndex: 'keyWord'\n        },\n        {\n          title: '打卡时间',\n          align: \"center\",\n          dataIndex: 'punchTime'\n        },\n        {\n          title: '性别',\n          align: \"center\",\n          dataIndex: 'sex',\n          customRender: (text) => {\n            //字典值替换通用方法\n            return filterDictText(this.sexDictOptions, text);\n          }\n        },\n        {\n          title: '年龄',\n          align: \"center\",\n          dataIndex: 'age'\n        },\n        {\n          title: '生日',\n          align: \"center\",\n          dataIndex: 'birthday'\n        },\n        {\n          title: '邮箱',\n          align: \"center\",\n          dataIndex: 'email'\n        },\n        {\n          title: '个人简介',\n          align: \"center\",\n          dataIndex: 'content'\n        },\n        {\n          title: '操作',\n          dataIndex: 'action',\n          align: \"center\",\n          scopedSlots: {\n            filterDropdown: 'filterDropdown',\n            filterIcon: 'filterIcon',\n            customRender: 'action'},\n        }\n      ],\n      url: {\n        list: \"/test/jeecgDemo/list\",\n        delete: \"/test/jeecgDemo/delete\",\n        deleteBatch: \"/test/jeecgDemo/deleteBatch\",\n        exportXlsUrl: \"/test/jeecgDemo/exportXls\"\n      },\n      fieldList:superQueryFieldList\n    }\n  },\n  methods: {\n    initDictConfig() {\n      console.log(\"--我才是真的方法!--\")\n      //初始化字典 - 性别\n      initDictOptions('sex').then((res) => {\n        if (res.success) {\n          this.sexDictOptions = res.result;\n        }\n      });\n    },\n    onetomany: function () {\n      this.$refs.jeecgDemoTabsModal.add();\n      this.$refs.jeecgDemoTabsModal.title = \"编辑\";\n    },\n    //跳转单据页面\n    jump() {\n      this.$router.push({path: '/jeecg/helloworld'})\n    },\n    //列设置更改事件\n    onColSettingsChange (checkedValues) {\n      var key = this.$route.name+\":colsettings\";\n      Vue.ls.set(key, checkedValues, 7 * 24 * 60 * 60 * 1000)\n      this.settingColumns = checkedValues;\n      const cols = this.defColumns.filter(item => {\n        if(item.key =='rowIndex'|| item.dataIndex=='action'){\n          return true\n        }\n        if (this.settingColumns.includes(item.dataIndex)) {\n          return true\n        }\n        return false\n      })\n      this.columns =  cols;\n    },\n    initColumns(){\n      //权限过滤（列权限控制时打开，修改第二个参数为授权码前缀）\n      //this.defColumns = colAuthFilter(this.defColumns,'testdemo:');\n\n      var key = this.$route.name+\":colsettings\";\n      let colSettings= Vue.ls.get(key);\n      if(colSettings==null||colSettings==undefined){\n        let allSettingColumns = [];\n        this.defColumns.forEach(function (item,i,array ) {\n          allSettingColumns.push(item.dataIndex);\n        })\n        this.settingColumns = allSettingColumns;\n        this.columns = this.defColumns;\n      }else{\n        this.settingColumns = colSettings;\n        const cols = this.defColumns.filter(item => {\n          if(item.key =='rowIndex'|| item.dataIndex=='action'){\n            return true;\n          }\n          if (colSettings.includes(item.dataIndex)) {\n            return true;\n          }\n          return false;\n        })\n        this.columns =  cols;\n      }\n    }\n  },\n  created() {\n    this.initColumns();\n  },\n}\n",null]}