{"remainingRequest":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/src/views/jeecg/modules/JEditableTable/ThreeLinkage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/src/views/jeecg/modules/JEditableTable/ThreeLinkage.vue","mtime":1571018558922},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { FormTypes } from '@/utils/JEditableTableUtil'\nimport JEditableTable from '@/components/jeecg/JEditableTable'\n\nexport default {\n  name: 'ThreeLinkage',\n  components: { JEditableTable },\n  data() {\n    return {\n      columns: [\n        {\n          title: '省/直辖市/自治区',\n          key: 's1',\n          type: FormTypes.select,\n          width: '240px',\n          options: [],\n          placeholder: '请选择${title}'\n        },\n        {\n          title: '市',\n          key: 's2',\n          type: FormTypes.select,\n          width: '240px',\n          options: [],\n          placeholder: '请选择${title}'\n        },\n        {\n          title: '县/区',\n          key: 's3',\n          type: FormTypes.select,\n          width: '240px',\n          options: [],\n          placeholder: '请选择${title}'\n        }\n      ],\n      dataSource: [],\n\n      mockData: [\n        { label: '北京市', value: '110000', parent: null },\n        { label: '天津市', value: '120000', parent: null },\n        { label: '河北省', value: '130000', parent: null },\n        { label: '上海市', value: '310000', parent: null },\n\n        { label: '北京市', value: '110100', parent: '110000' },\n        { label: '天津市市', value: '120100', parent: '120000' },\n        { label: '石家庄市', value: '130100', parent: '130000' },\n        { label: '唐山市', value: '130200', parent: '130000' },\n        { label: '秦皇岛市', value: '130300', parent: '130000' },\n        { label: '上海市', value: '310100', parent: '310000' },\n\n        { label: '东城区', value: '110101', parent: '110100' },\n        { label: '西城区', value: '110102', parent: '110100' },\n        { label: '朝阳区', value: '110105', parent: '110100' },\n        { label: '和平区', value: '120101', parent: '120000' },\n        { label: '河东区', value: '120102', parent: '120000' },\n        { label: '河西区', value: '120103', parent: '120000' },\n        { label: '黄浦区', value: '310101', parent: '310100' },\n        { label: '徐汇区', value: '310104', parent: '310100' },\n        { label: '长宁区', value: '310105', parent: '310100' },\n        { label: '长安区', value: '130102', parent: '130100' },\n        { label: '桥西区', value: '130104', parent: '130100' },\n        { label: '新华区', value: '130105', parent: '130100' },\n        { label: '路南区', value: '130202', parent: '130200' },\n        { label: '路北区', value: '130203', parent: '130200' },\n        { label: '古冶区', value: '130204', parent: '130200' },\n        { label: '海港区', value: '130302', parent: '130300' },\n        { label: '山海关区', value: '130303', parent: '130300' },\n        { label: '北戴河区', value: '130304', parent: '130300' },\n      ]\n    }\n  },\n  mounted() {\n    // 初始化数据\n    this.columns[0].options = this.request(null)\n  },\n  methods: {\n\n    request(parentId) {\n      return this.mockData.filter(i => i.parent === parentId)\n    },\n\n    /** 当选项被改变时，联动其他组件 */\n    handleValueChange(event) {\n      const { type, row, column, value, target } = event\n\n      if (type === FormTypes.select) {\n\n        // 第一列\n        if (column.key === 's1') {\n          // 设置第二列的 options\n          this.columns[1].options = this.request(value)\n          // 清空后两列的数据\n          target.setValues([{\n            rowKey: row.id,\n            values: { s2: '', s3: '' }\n          }])\n          this.columns[2].options = []\n        } else\n        // 第二列\n        if (column.key === 's2') {\n          this.columns[2].options = this.request(value)\n          target.setValues([{\n            rowKey: row.id,\n            values: { s3: '' }\n          }])\n        }\n      }\n\n    }\n\n  }\n}\n",{"version":3,"sources":["ThreeLinkage.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA","file":"ThreeLinkage.vue","sourceRoot":"src/views/jeecg/modules/JEditableTable","sourcesContent":["<template>\n  <j-editable-table\n    :columns=\"columns\"\n    :dataSource=\"dataSource\"\n    :rowNumber=\"true\"\n    :actionButton=\"true\"\n    :rowSelection=\"true\"\n    :maxHeight=\"400\"\n    @valueChange=\"handleValueChange\"\n  />\n</template>\n\n<script>\n  import { FormTypes } from '@/utils/JEditableTableUtil'\n  import JEditableTable from '@/components/jeecg/JEditableTable'\n\n  export default {\n    name: 'ThreeLinkage',\n    components: { JEditableTable },\n    data() {\n      return {\n        columns: [\n          {\n            title: '省/直辖市/自治区',\n            key: 's1',\n            type: FormTypes.select,\n            width: '240px',\n            options: [],\n            placeholder: '请选择${title}'\n          },\n          {\n            title: '市',\n            key: 's2',\n            type: FormTypes.select,\n            width: '240px',\n            options: [],\n            placeholder: '请选择${title}'\n          },\n          {\n            title: '县/区',\n            key: 's3',\n            type: FormTypes.select,\n            width: '240px',\n            options: [],\n            placeholder: '请选择${title}'\n          }\n        ],\n        dataSource: [],\n\n        mockData: [\n          { label: '北京市', value: '110000', parent: null },\n          { label: '天津市', value: '120000', parent: null },\n          { label: '河北省', value: '130000', parent: null },\n          { label: '上海市', value: '310000', parent: null },\n\n          { label: '北京市', value: '110100', parent: '110000' },\n          { label: '天津市市', value: '120100', parent: '120000' },\n          { label: '石家庄市', value: '130100', parent: '130000' },\n          { label: '唐山市', value: '130200', parent: '130000' },\n          { label: '秦皇岛市', value: '130300', parent: '130000' },\n          { label: '上海市', value: '310100', parent: '310000' },\n\n          { label: '东城区', value: '110101', parent: '110100' },\n          { label: '西城区', value: '110102', parent: '110100' },\n          { label: '朝阳区', value: '110105', parent: '110100' },\n          { label: '和平区', value: '120101', parent: '120000' },\n          { label: '河东区', value: '120102', parent: '120000' },\n          { label: '河西区', value: '120103', parent: '120000' },\n          { label: '黄浦区', value: '310101', parent: '310100' },\n          { label: '徐汇区', value: '310104', parent: '310100' },\n          { label: '长宁区', value: '310105', parent: '310100' },\n          { label: '长安区', value: '130102', parent: '130100' },\n          { label: '桥西区', value: '130104', parent: '130100' },\n          { label: '新华区', value: '130105', parent: '130100' },\n          { label: '路南区', value: '130202', parent: '130200' },\n          { label: '路北区', value: '130203', parent: '130200' },\n          { label: '古冶区', value: '130204', parent: '130200' },\n          { label: '海港区', value: '130302', parent: '130300' },\n          { label: '山海关区', value: '130303', parent: '130300' },\n          { label: '北戴河区', value: '130304', parent: '130300' },\n        ]\n      }\n    },\n    mounted() {\n      // 初始化数据\n      this.columns[0].options = this.request(null)\n    },\n    methods: {\n\n      request(parentId) {\n        return this.mockData.filter(i => i.parent === parentId)\n      },\n\n      /** 当选项被改变时，联动其他组件 */\n      handleValueChange(event) {\n        const { type, row, column, value, target } = event\n\n        if (type === FormTypes.select) {\n\n          // 第一列\n          if (column.key === 's1') {\n            // 设置第二列的 options\n            this.columns[1].options = this.request(value)\n            // 清空后两列的数据\n            target.setValues([{\n              rowKey: row.id,\n              values: { s2: '', s3: '' }\n            }])\n            this.columns[2].options = []\n          } else\n          // 第二列\n          if (column.key === 's2') {\n            this.columns[2].options = this.request(value)\n            target.setValues([{\n              rowKey: row.id,\n              values: { s3: '' }\n            }])\n          }\n        }\n\n      }\n\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>"]}]}