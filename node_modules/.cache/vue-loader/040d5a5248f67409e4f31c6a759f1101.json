{"remainingRequest":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/src/components/jeecg/JEditableTable.vue?vue&type=template&id=2f0c1ef1&scoped=true&","dependencies":[{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/src/components/jeecg/JEditableTable.vue","mtime":1571018558896},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<a-spin :spinning=\"loading\">\n\n  <!-- 操作按钮 -->\n  <div v-if=\"actionButton\" class=\"action-button\">\n    <a-button type=\"primary\" icon=\"plus\" @click=\"handleClickAdd\">新增</a-button>\n    <span class=\"gap\"></span>\n    <template v-if=\"selectedRowIds.length>0\">\n      <a-popconfirm\n        :title=\"`确定要删除这 ${selectedRowIds.length} 项吗?`\"\n        @confirm=\"handleConfirmDelete\">\n        <a-button type=\"primary\" icon=\"minus\">删除</a-button>\n      </a-popconfirm>\n      <template v-if=\"showClearSelectButton\">\n        <span class=\"gap\"></span>\n        <a-button icon=\"delete\" @click=\"handleClickClearSelect\">清空选择</a-button>\n      </template>\n    </template>\n  </div>\n\n  <div :id=\"`${caseId}inputTable`\" class=\"input-table\">\n    <!-- 渲染表头 -->\n    <div class=\"thead\" ref=\"thead\">\n      <div class=\"tr\" :style=\"{width: this.realTrWidth}\">\n        <!-- 左侧固定td  -->\n        <div v-if=\"dragSort\" class=\"td td-ds\" :style=\"style.tdLeftDs\">\n          <span></span>\n        </div>\n        <div v-if=\"rowSelection\" class=\"td td-cb\" :style=\"style.tdLeft\">\n          <!--:indeterminate=\"true\"-->\n          <a-checkbox\n            :checked=\"getSelectAll\"\n            :indeterminate=\"getSelectIndeterminate\"\n            @change=\"handleChangeCheckedAll\"\n          />\n        </div>\n        <div v-if=\"rowNumber\" class=\"td td-num\" :style=\"style.tdLeft\">\n          <span>#</span>\n        </div>\n        <!-- 右侧动态生成td -->\n        <template v-for=\"col in columns\">\n          <div\n            v-show=\"col.type !== formTypes.hidden\"\n            class=\"td\"\n            :key=\"col.key\"\n            :style=\"buildTdStyle(col)\">\n\n            <span>{{ col.title }}</span>\n          </div>\n        </template>\n      </div>\n    </div>\n\n    <div class=\"scroll-view\" ref=\"scrollView\" :style=\"{'max-height':maxHeight+'px'}\">\n\n\n      <!-- 渲染主体 body -->\n      <div :id=\"`${caseId}tbody`\" class=\"tbody\" :style=\"tbodyStyle\">\n        <!-- 扩展高度 -->\n        <div class=\"tr-expand\" :style=\"`height:${getExpandHeight}px; z-index:${loading?'11':'9'};`\"></div>\n        <!-- 无数据时显示 -->\n        <div v-if=\"rows.length===0\" class=\"tr-nodata\">\n          <span>暂无数据</span>\n        </div>\n        <draggable v-model=\"rows\" handle=\".td-ds-icons\" @end=\"handleDragMoveEnd\">\n\n          <!-- 动态生成tr -->\n          <template v-for=\"(row,rowIndex) in rows\">\n            <!-- tr 只加载可见的和预加载的总共十条数据 -->\n            <div\n              v-if=\"\n              rowIndex >= parseInt(`${(scrollTop-rowHeight) / rowHeight}`) &&\n                (parseInt(`${scrollTop / rowHeight}`) + 9) > rowIndex\n            \"\n              :id=\"`${caseId}tbody-tr-${rowIndex}`\"\n              :data-idx=\"rowIndex\"\n              class=\"tr\"\n              :class=\"selectedRowIds.indexOf(row.id) !== -1 ? 'tr-checked' : ''\"\n              :style=\"buildTrStyle(rowIndex)\"\n              :key=\"row.id\">\n              <!-- 左侧固定td  -->\n\n              <div v-if=\"dragSort\" class=\"td td-ds\" :style=\"style.tdLeftDs\">\n                <div class=\"td-ds-icons\">\n                  <a-icon type=\"align-left\"/>\n                  <a-icon type=\"align-right\"/>\n                </div>\n              </div>\n\n              <div v-if=\"rowSelection\" class=\"td td-cb\" :style=\"style.tdLeft\">\n                <!-- 此 v-for 只是为了拼接 id 字符串 -->\n                <template v-for=\"(id,i) in [`${row.id}`]\">\n                  <a-checkbox\n                    :id=\"id\"\n                    :key=\"i\"\n                    :checked=\"selectedRowIds.indexOf(id) !== -1\"\n                    @change=\"handleChangeLeftCheckbox\"/>\n                </template>\n              </div>\n              <div v-if=\"rowNumber\" class=\"td td-num\" :style=\"style.tdLeft\">\n                <span>{{ rowIndex+1 }}</span>\n              </div>\n              <!-- 右侧动态生成td -->\n              <div\n                class=\"td\"\n                v-for=\"col in columns\"\n                v-show=\"col.type !== formTypes.hidden\"\n                :key=\"col.key\"\n                :style=\"buildTdStyle(col)\">\n\n                <!-- 此 v-for 只是为了拼接 id 字符串 -->\n                <template v-for=\"(id,i) in [`${col.key}${row.id}`]\">\n\n                  <!-- native input -->\n                  <label :key=\"i\" v-if=\"col.type === formTypes.input || col.type === formTypes.inputNumber\">\n                    <a-tooltip\n                      :id=\"id\"\n                      placement=\"top\"\n                      :title=\"(tooltips[id] || {}).title\"\n                      :visible=\"(tooltips[id] || {}).visible || false\"\n                      :autoAdjustOverflow=\"true\">\n\n                      <input\n                        :id=\"id\"\n                        v-bind=\"buildProps(row,col)\"\n                        :data-input-number=\"col.type === formTypes.inputNumber\"\n                        :placeholder=\"replaceProps(col, col.placeholder)\"\n                        @input=\"(e)=>{handleInputCommono(e.target,rowIndex,row,col)}\"\n                        @mouseover=\"()=>{handleMouseoverCommono(row,col)}\"\n                        @mouseout=\"()=>{handleMouseoutCommono(row,col)}\"/>\n\n                    </a-tooltip>\n\n                  </label>\n                  <!-- checkbox -->\n                  <template v-else-if=\"col.type === formTypes.checkbox\">\n                    <a-checkbox\n                      :key=\"i\"\n                      :id=\"id\"\n                      v-bind=\"buildProps(row,col)\"\n                      :checked=\"checkboxValues[id]\"\n                      @change=\"(e)=>handleChangeCheckboxCommon(e,row,col)\"\n                    />\n                  </template>\n                  <!-- select -->\n                  <template v-else-if=\"col.type === formTypes.select\">\n                    <a-tooltip\n                      :key=\"i\"\n                      :id=\"id\"\n                      placement=\"top\"\n                      :title=\"(tooltips[id] || {}).title\"\n                      :visible=\"(tooltips[id] || {}).visible || false\"\n                      :autoAdjustOverflow=\"true\">\n\n                    <span\n                      @mouseover=\"()=>{handleMouseoverCommono(row,col)}\"\n                      @mouseout=\"()=>{handleMouseoutCommono(row,col)}\">\n\n                      <a-select\n                        :id=\"id\"\n                        :key=\"i\"\n                        v-bind=\"buildProps(row,col)\"\n                        style=\"width: 100%;\"\n                        :value=\"selectValues[id]\"\n                        :options=\"col.options\"\n                        :getPopupContainer=\"getParentContainer\"\n                        :placeholder=\"replaceProps(col, col.placeholder)\"\n                        @change=\"(v)=>handleChangeSelectCommon(v,id,row,col)\"\n                        @search=\"(v)=>handleSearchSelect(v,id,row,col)\"\n                        @blur=\"(v)=>handleBlurSearch(v,id,row,col)\"\n                      >\n\n                        <!--<template v-for=\"(opt,optKey) in col.options\">-->\n                        <!--<a-select-option :value=\"opt.value\" :key=\"optKey\">{{ opt.title }}</a-select-option>-->\n                        <!--</template>-->\n                      </a-select>\n                    </span>\n                    </a-tooltip>\n                  </template>\n                  <!-- date -->\n                  <template v-else-if=\"col.type === formTypes.date || col.type === formTypes.datetime\">\n                    <a-tooltip\n                      :key=\"i\"\n                      :id=\"id\"\n                      placement=\"top\"\n                      :title=\"(tooltips[id] || {}).title\"\n                      :visible=\"(tooltips[id] || {}).visible || false\"\n                      :autoAdjustOverflow=\"true\">\n\n                    <span\n                      @mouseover=\"()=>{handleMouseoverCommono(row,col)}\"\n                      @mouseout=\"()=>{handleMouseoutCommono(row,col)}\">\n\n                      <j-date\n                        :id=\"id\"\n                        :key=\"i\"\n                        v-bind=\"buildProps(row,col)\"\n                        style=\"width: 100%;\"\n                        :value=\"jdateValues[id]\"\n                        :getCalendarContainer=\"getParentContainer\"\n                        :placeholder=\"replaceProps(col, col.placeholder)\"\n                        :trigger-change=\"true\"\n                        :showTime=\"col.type === formTypes.datetime\"\n                        :dateFormat=\"col.type === formTypes.date? 'YYYY-MM-DD':'YYYY-MM-DD HH:mm:ss'\"\n                        @change=\"(v)=>handleChangeJDateCommon(v,id,row,col,col.type === formTypes.datetime)\"/>\n\n                    </span>\n                    </a-tooltip>\n                  </template>\n\n                  <div v-else-if=\"col.type === formTypes.upload\" :key=\"i\">\n                    <template v-if=\"uploadValues[id] != null\" v-for=\"(file,fileKey) of [(uploadValues[id]||{})]\">\n                      <a-input\n                        :key=\"fileKey\"\n                        :readOnly=\"true\"\n                        :value=\"file.name\"\n                      >\n\n                        <template slot=\"addonBefore\" style=\"width: 30px\">\n                          <a-tooltip v-if=\"file.status==='uploading'\" :title=\"`上传中(${Math.floor(file.percent)}%)`\">\n                            <a-icon type=\"loading\"/>\n                          </a-tooltip>\n                          <a-tooltip v-else-if=\"file.status==='done'\" title=\"上传完成\">\n                            <a-icon type=\"check-circle\" style=\"color:#00DB00;\"/>\n                          </a-tooltip>\n                          <a-tooltip v-else title=\"上传失败\">\n                            <a-icon type=\"exclamation-circle\" style=\"color:red;\"/>\n                          </a-tooltip>\n                        </template>\n\n                        <template slot=\"addonAfter\" style=\"width: 30px\">\n                          <a-tooltip title=\"删除并重新上传\">\n                            <a-icon\n                              v-if=\"file.status!=='uploading'\"\n                              type=\"close-circle\"\n                              style=\"cursor: pointer;\"\n                              @click=\"()=>handleClickDelFile(id)\"/>\n                          </a-tooltip>\n                        </template>\n\n                      </a-input>\n                    </template>\n\n                    <div :hidden=\"uploadValues[id] != null\">\n\n                      <a-upload\n                        name=\"file\"\n                        :data=\"{'isup':1}\"\n                        :multiple=\"false\"\n                        :action=\"col.action\"\n                        :headers=\"uploadGetHeaders(row,col)\"\n                        :showUploadList=\"false\"\n                        v-bind=\"buildProps(row,col)\"\n                        @change=\"(v)=>handleChangeUpload(v,id,row,col)\"\n                      >\n                        <a-button icon=\"upload\">{{ col.placeholder }}</a-button>\n                      </a-upload>\n                    </div>\n\n                  </div>\n\n                  <div v-else-if=\"col.type === formTypes.slot\" :key=\"i\">\n                    <slot\n                      :name=\"(col.slot || col.slotName) || col.key\"\n                      :index=\"rowIndex\"\n                      :text=\"inputValues[rowIndex][col.key]\"\n                      :column=\"col\"\n                      :rowId=\"removeCaseId(row.id)\"\n                      :getValue=\"()=>_getValueForSlot(row.id)\"\n                      :target=\"getVM()\"\n                    />\n                  </div>\n\n                  <!-- else (normal) -->\n                  <span v-else :key=\"i\">{{ inputValues[rowIndex][col.key] }}</span>\n                </template>\n              </div>\n            </div>\n            <!-- -- tr end -- -->\n\n          </template>\n        </draggable>\n\n      </div>\n    </div>\n  </div>\n</a-spin>\n",null]}