{"remainingRequest":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/src/views/jeecg/report/Analysis.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/src/views/jeecg/report/Analysis.vue","mtime":1571018558924},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yunwisdom/Workspace/jeecg-boot/ant-design-vue-jeecg/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport ChartCard from '@/components/ChartCard'\nimport ACol from \"ant-design-vue/es/grid/Col\"\nimport ATooltip from \"ant-design-vue/es/tooltip/Tooltip\"\nimport MiniArea from '@/components/chart/MiniArea'\nimport MiniBar from '@/components/chart/MiniBar'\nimport LineChartMultid from '@/components/chart/LineChartMultid'\nimport AreaChartTy from '@/components/chart/AreaChartTy'\nimport DashChartDemo from '@/components/chart/DashChartDemo'\nimport BarMultid from '@/components/chart/BarMultid'\nimport MiniProgress from '@/components/chart/MiniProgress'\nimport RankList from '@/components/chart/RankList'\nimport Bar from '@/components/chart/Bar'\nimport Trend from '@/components/Trend'\nimport { getAction } from '@/api/manage'\nimport { filterObj } from '@/utils/util'\nimport moment from 'dayjs'\n\nconst rankList = []\nfor (let i = 0; i < 7; i++) {\n  rankList.push({\n    name: '白鹭岛 ' + (i+1) + ' 号店',\n    total: 1234.56 - i * 100\n  })\n}\n\nconst dataCol1 = [{\n  title: '业务号',\n  align:\"center\",\n  dataIndex: 'reBizCode'\n},{\n  title: '权利类型',\n  align:\"center\",\n  dataIndex: 'droitType'\n},{\n  title: '登记类型',\n  align:\"center\",\n  dataIndex: 'registeType'\n},{\n  title: '座落',\n  align:\"center\",\n  dataIndex: 'beLocated'\n},{\n  title: '权利人',\n  align:\"center\",\n  dataIndex: 'qlr'\n},{\n  title: '义务人',\n  align:\"center\",\n  dataIndex: 'ywr'\n},{\n  title: '受理人',\n  align:\"center\",\n  dataIndex: 'acceptBy'\n},{\n  title: '受理时间',\n  align:\"center\",\n  dataIndex: 'acceptDate'\n},{\n  title: '当前节点',\n  align:\"center\",\n  dataIndex: 'curNode'\n},{\n  title: '办理进度',\n  align:\"center\",\n  dataIndex: 'flowRate',\n  scopedSlots: { customRender: 'flowRate' }\n}];\n\nconst dataCol2 = [{\n  title: '业务号',\n  align:\"center\",\n  dataIndex: 'reBizCode'\n},{\n  title: '权利类型',\n  align:\"center\",\n  dataIndex: 'droitType'\n},{\n  title: '登记类型',\n  align:\"center\",\n  dataIndex: 'registeType'\n},{\n  title: '座落',\n  align:\"center\",\n  dataIndex: 'beLocated'\n},{\n  title: '权利人',\n  align:\"center\",\n  dataIndex: 'qlr'\n},{\n  title: '义务人',\n  align:\"center\",\n  dataIndex: 'ywr'\n},{\n  title: '受理人',\n  align:\"center\",\n  dataIndex: 'acceptBy'\n},{\n  title: '发起时间',\n  align:\"center\",\n  dataIndex: 'acceptDate'\n},{\n  title: '当前节点',\n  align:\"center\",\n  dataIndex: 'curNode'\n},{\n  title: '超时时间',\n  align:\"center\",\n  dataIndex: 'flowRate',\n  scopedSlots: { customRender: 'flowRate' }\n}];\n\nconst jhjgData = [\n  { type: '房管', '一月': 900, '二月': 1120, '三月': 1380, '四月': 1480, '五月': 1450, '六月': 1100, '七月':1300, '八月':900,'九月':1000 ,'十月':1200 ,'十一月':600 ,'十二月':900 },\n  { type: '税务', '一月':1200, '二月': 1500, '三月': 1980, '四月': 2000, '五月': 1000, '六月': 600, '七月':900, '八月':1100,'九月':1300 ,'十月':2000 ,'十一月':900 ,'十二月':1100 },\n  { type: '不动产', '一月':2000, '二月': 1430, '三月': 1300, '四月': 1400, '五月': 900, '六月': 500, '七月':600, '八月':1000,'九月':600 ,'十月':1000 ,'十一月':1500 ,'十二月':1200 }\n]\nconst jhjgFields=[\n  '一月','二月','三月','四月','五月','六月',\n  '七月','八月','九月','十月','十一月','十二月'\n]\n\n\nconst xljgData = [\n  {type:'一月',\"房管\":1.12,\"税务\":1.55,\"不动产\":1.2},\n  {type:'二月',\"房管\":1.65,\"税务\":1.32,\"不动产\":1.42},\n  {type:'三月',\"房管\":1.85,\"税务\":1.1,\"不动产\":1.5},\n\n  {type:'四月',\"房管\":1.33,\"税务\":1.63,\"不动产\":1.4},\n  {type:'五月',\"房管\":1.63,\"税务\":1.8,\"不动产\":1.7},\n  {type:'六月',\"房管\":1.85,\"税务\":1.98,\"不动产\":1.8},\n\n  {type:'七月',\"房管\":1.98,\"税务\":1.5,\"不动产\":1.76},\n  {type:'八月',\"房管\":1.48,\"税务\":1.2,\"不动产\":1.3},\n  {type:'九月',\"房管\":1.41,\"税务\":1.9,\"不动产\":1.6},\n\n  {type:'十月',\"房管\":1.1,\"税务\":1.1,\"不动产\":1.4},\n  {type:'十一月',\"房管\":1.85,\"税务\":1.6,\"不动产\":1.5},\n  {type:'十二月',\"房管\":1.5,\"税务\":1.4,\"不动产\":1.3}\n]\nconst xljgFields=[\"房管\",\"税务\",\"不动产\"]\nexport default {\n  name: \"Analysis\",\n  components: {\n    ATooltip,\n    ACol,\n    ChartCard,\n    MiniArea,\n    MiniBar,\n    MiniProgress,\n    RankList,\n    Bar,\n    Trend,\n    LineChartMultid,\n    AreaChartTy,\n    DashChartDemo,\n    BarMultid\n  },\n  data() {\n    return {\n      xljgData,\n      xljgFields,\n      jhjgData,\n      jhjgFields,\n      loading: true,\n      rankList,\n      zsll:0,\n      zbjl:0,\n      todaySll:0,\n      todayBjl:0,\n      todayISll:0,\n      todayIBjl:0,\n    registerTypeList:[{\n        text:\"业务受理\"\n      },{\n        text:\"业务管理\"\n      },{\n        text:\"文件管理\"\n      },{\n        text:\"信息查询\"\n      }],\n      // 分页参数\n      ipagination:{\n        current: 1,\n        pageSize: 5,\n        pageSizeOptions: ['10', '20', '30'],\n        showTotal: (total, range) => {\n          return range[0] + \"-\" + range[1] + \" 共\" + total + \"条\"\n        },\n        showQuickJumper: true,\n        showSizeChanger: true,\n        total: 0\n      },\n      //数据集\n      dataSource:[],\n      dataSource1:[],\n      dataSource2:[],\n      url:{\n        analysis:\"/sps/register/analysis\",\n        list:\"sps/register/virtualList\",\n        countSll:\"sps/register/sllTenDaysCount\",\n        countBjl:\"sps/register/bjlTenDaysCount\",\n        countISll:'sps/register/ISllTenDaysCount',\n        countIBjl:'sps/register/IBjlTenDaysCount',\n        queryDiskInfo:'api/queryDiskInfo'\n      },\n      chartData:{\n        sll:[],\n        bjl:[],\n        isll:[],\n        ibjl:[]\n      },\n      cardCount:{\n        sll:0,\n        bjl:0,\n        isll:0,\n        ibjl:0\n      },\n      columns:dataCol1,\n      columns2:dataCol2,\n      diskInfo:[]\n    }\n  },\n  methods:{\n    goPage(index){\n      if(index==0){\n        this.$router.push({\n          path: '/isps/registerStepForm',\n          name: 'isps-registerStepForm',\n        });\n      }else if(index==1){\n        this.$router.push({\n          path: '/isps/registerList',\n          name: 'isps-registerList',\n        });\n\n      }else if(index==2){\n        this.$router.push({\n          path: '/isps/fileManage',\n          name: 'isps-fileManage',\n        });\n      }else if(index==3){\n        this.$router.push({\n          path: '/isps/infoSearch',\n          name: 'isps-infoSearch',\n        });\n      }\n    },\n    loadList (arg){\n      if(arg===1){\n        this.ipagination.current = 1;\n      }\n      var params = this.getQueryParams();//查询条件\n      getAction(this.url.list,params).then((res)=>{\n        console.log(\"dsdsd\",res.result)\n        this.dataSource1 = res.result.data1;\n        this.dataSource2 = res.result.data2;\n        this.ipagination.total = 5;\n      });\n    },\n    getQueryParams(){\n      var param = {flowStatus:\"-3\"};\n      param.pageNo = this.ipagination.current;\n      param.pageSize = this.ipagination.pageSize;\n      return filterObj(param);\n    },\n    formatRespectiveHoldCert(value){\n      return (value==\"1\"||eval(value))?\"是\":\"否\"\n    },\n    formatCertFormat(value){\n      if(value==\"1\"){\n        return \"单一版\"\n      }else if(value==\"2\"){\n        return \"集成版\"\n      }else{\n        return value;\n      }\n    },\n    getFlowRateNumber(value){\n      return Number(value)\n    },\n    getFlowPercent(record){\n      if(record.flowStatus==\"3\"){\n        return 100\n      }else if(record.flowStatus==\"0\"){\n        return 0\n      }else{\n        return record.flowRate\n      }\n    },\n    getFlowStatus(status){\n      if(status==\"4\"){\n        return \"exception\";\n      }else if(status==\"0\"){\n        return \"normal\";\n      }else if(status==\"3\"){\n        return \"success\";\n      }else{\n        return \"active\";\n      }\n\n    },\n    queryCount(){\n      getAction(this.url.analysis).then((res)=>{\n        if(res.success){\n          this.cardCount = res.result\n        }\n        console.log(res);\n      });\n    },\n\n    loadDiskInfo(){\n      getAction(this.url.queryDiskInfo).then((res)=>{\n        if(res.success){\n          console.log(res.result)\n          let one=0,two=\"\";\n          for(let a in res.result){\n            let tempNum = Number(res.result[a].max)\n            if(tempNum>one){\n              one = tempNum\n              two = res.result[a].name\n            }\n          }\n          let ontItem = res.result.filter((item)=>{return item.name == two})[0]\n          ontItem.restPPT = ontItem.restPPT/10\n          this.diskInfo.push(ontItem);\n\n          if(res.result.length>1){\n            let one2=0,two2=\"\";\n            for(let a in res.result){\n              if(res.result[a].name == two){\n                continue;\n              }\n              let tempNum = Number(res.result[a].max)\n              if(tempNum>one2){\n                one2 = tempNum\n                two2 = res.result[a].name\n              }\n            }\n            let one2Item = res.result.filter((item)=>{return item.name == two2})[0]\n            one2Item.restPPT = one2Item.restPPT/10\n            this.diskInfo.push(one2Item);\n          }\n\n        }else{\n          console.log(res.message)\n        }\n      })\n    },\n    loadChartData(){\n      getAction(this.url.countSll).then((res)=>{\n        if(res.success){\n          let map = res.result;\n          for(var key in map){\n            let dataStr = key;\n            let value = map[key];\n            let today = moment(new Date()).format('YYYY-MM-DD');\n            if(dataStr == today){\n              this.todaySll = map[today];\n            }\n            this.chartData.sll.push({\n              x: dataStr,\n              y: value\n            });\n          }\n        }\n\n      }),\n        getAction(this.url.countBjl).then((res)=>{\n          if(res.success){\n            let map = res.result;\n            for(var key in map){\n              let dataStr = key;\n              let value = map[key];\n              let today = moment(new Date()).format('YYYY-MM-DD');\n              if(dataStr == today){\n                this.todayBjl = map[today];\n              }\n              this.chartData.bjl.push({\n                x: dataStr,\n                y: value\n              });\n            }\n          }\n        }),\n        getAction(this.url.countISll).then((res)=>{\n          if(res.success){\n            let map = res.result;\n            for(var key in map){\n              let dataStr = key;\n              let value = map[key];\n              let today = moment(new Date()).format('YYYY-MM-DD');\n              if(dataStr == today){\n                this.todayISll = map[today];\n              }\n              this.chartData.isll.push({\n                x: key,\n                y: value\n              });\n            }\n          }\n        }),\n        getAction(this.url.countIBjl).then((res)=>{\n          if(res.success){\n            let map = res.result;\n            for(var key in map){\n              let dataStr = key;\n              let value = map[key];\n              let today = moment(new Date()).format('YYYY-MM-DD');\n              if(dataStr == today){\n                this.todayIBjl = map[today];\n              }\n              this.chartData.ibjl.push({\n                x: key,\n                y: value\n              });\n            }\n          }\n        })\n    }\n  },\n  created() {\n    this.loadDiskInfo()\n    this.queryCount();\n    this.loadChartData();\n    this.loadList(1);\n    setTimeout(() => {\n      this.loading = !this.loading\n    }, 1000)\n  }\n}\n",null]}